                                    Задание

1. Проверка анаграммы - принимает две строки, определяет являются ли они анаграммами. Если являются - необходимо увеличить счетчик в Redis.
Возвращает JSON - являются ли они анаграммами и счетчик из Redis.

2. Занести в базу данных 10 устройств (таблица devices), тип (dev_type) определяется случайно из списка: emeter, zigbee, lora, gsm. 
Поле dev_id - случайные 48 бит в hex-
формате (MAC-адрес). К пяти устройствам из добавленных необходимо привязать endpoint (таблица endpoints). После записи необходимо возвращать HTTP код 
состояния 201.

3. В базе данных получить список всех устройств, которые не привязаны к endpoint. Вернуть количество, сгруппированное по типам устройств.

------------------------------------------------------------------------------------------------------

                                    Запуск.

python3 -m venv venv              создаем виртуальное окружение.

source venv/bin/activate          активация виртуального окружения.

pip install -r requirements.txt   устанавливаем зависимости.

В PostgreSQL создаем бд postgresql://127.0.0.1:5432/postgres (название бд - postgres)

Выполняем запос из фаила test.sql в PostgreSQL (создаем таблицы devices и endpoints)

brew services start redis         запускаем  redis.

uvicorn main:app                 запускаем сервер.

------------------------------------------------------------------------------------------------------

                                маршруты.

http://127.0.0.1:8000/docs          описание всех маршрутов, там же можно и протестировать.

http://127.0.0.1:8000/redis         method post, принимает две строки, определяет являются ли они анаграммами. Возвращает JSON - являются ли они анаграммами и счетчик из Redis.
                                
http://127.0.0.1:8000/add_device    method post, принимает id <int> (dev_id и dev_type генерируются автоматически согласо условиям). При успешной записис http status 201.

http://127.0.0.1:8000/add_endpoint  method post, принимает endpoint_id, device_id (должен совпадать с id из таблицы devices) и text. При успешной записис http status 201.

http://127.0.0.1:8000/all_device    method get, без параметров. Возвращает json, количество всех устройст не привязаных к endpoint сгрупированных по типу устройств.

                                 


